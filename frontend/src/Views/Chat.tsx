import "../App.css";
import VerifiedIcon from "@mui/icons-material/Verified";
import { Button, TextField, Checkbox, Typography, Box } from "@mui/material";
import { useEffect, useState } from "react";
import { io } from "socket.io-client";
import youtube from "../assets/youtube.png";
import tiktok from "../assets/tiktok.png";
import twitch from "../assets/twitch.png";
import useWindowDimensions from "../useWindowDimensions";
import logo from "../assets/filu.svg";

type message = {
  message: string;
  sender: string;
  source: string;
};

const socket = io(import.meta.env.VITE_SOCKET_URL as string);

function Chat() {
  const [messages, setMessages] = useState<message[]>([]);
  const [twitchNickname, setTwitchName] = useState<string>("");
  const [tiktokNickname, setTiktokName] = useState<string>("");
  const [youtubeClientId, setYoutubeClientId] = useState<string>("");
  const [connectPressed, setConnectPressed] = useState<boolean>(false);
  const [checkedSocials, setCheckedSocials] = useState({
    twitch: false,
    tiktok: false,
    youtube: false,
  });
  const { height, width } = useWindowDimensions();

  useEffect(() => {
    setTwitchName(localStorage.getItem("twitchNickname") || "");
    setTiktokName(localStorage.getItem("tiktokNickname") || "");
    setYoutubeClientId(localStorage.getItem("youtubeClientId") || "");

    socket.on("chat", (data: any) => {
      setMessages((messages) => {
        if (messages.length < 6) {
          return [...messages, data];
        } else {
          return [...messages.slice(1), data];
        }
      });
    });

    return () => {
      socket.off("chat");
    };
  }, []);

  const connectBot = async () => {
    localStorage.setItem(
      "twitchNickname",
      checkedSocials.twitch ? twitchNickname : ""
    );
    setTiktokName(checkedSocials.tiktok ? tiktokNickname : "");
    localStorage.setItem(
      "tiktokNickname",
      checkedSocials.tiktok ? tiktokNickname : ""
    );
    setTwitchName(checkedSocials.twitch ? twitchNickname : "");
    localStorage.setItem(
      "youtubeClientId",
      checkedSocials.youtube ? youtubeClientId : ""
    );
    setYoutubeClientId(checkedSocials.youtube ? youtubeClientId : "");

    try {
      socket.emit("register", {
        tiktokNickname,
        twitchNickname,
        youtubeClientId,
      });
      setConnectPressed(true);
    } catch (error) {
      console.log(error);
    }
  };

  const renderSwitch = (param: string) => {
    switch (param) {
      case "tiktok":
        return <img src={tiktok} style={{ width: 20, height: 20 }} />;
      case "twitch":
        return <img src={twitch} style={{ width: 20, height: 20 }} />;
      case "youtube":
        return <img src={youtube} style={{ width: 20, height: 20 }} />;
      default:
        return <img src={tiktok} style={{ width: 20, height: 20 }} />;
    }
  };

  return (
    <div>
      {!connectPressed ? (
        <div>
          <svg viewBox="0 0 395.52 247.2" height="247.2" width="395.52"><g><svg viewBox="0 0 395.52 247.2" height="247.2" width="395.52"><g transform="matrix(1,0,0,1,0,47.696947565564045)"><svg viewBox="0 0 395.52 151.8061048688719" height="151.8061048688719" width="395.52"><g><svg viewBox="0 0 395.52 151.8061048688719" height="151.8061048688719" width="395.52"><g><svg viewBox="0 0 395.52 151.8061048688719" height="151.8061048688719" width="395.52"><g><svg viewBox="0 0 395.52 151.8061048688719" height="151.8061048688719" width="395.52"><g><svg viewBox="0 0 395.52 95.55376146788991" height="95.55376146788991" width="395.52"><g transform="matrix(1,0,0,1,0,0)"><svg width="395.52" viewBox="4.25 -35.20000076293945 147.13999938964844 35.54999923706055" height="95.55376146788991" data-palette-color="#00ceff"><g class="undefined-text-0" data-fill-palette-color="primary" id="text-0"><path d="M27.2-35.2L28.2-35.2 28.2 0 27.2 0 27.2-17.65 5.25-17.65 5.25 0 4.25 0 4.25-35.2 5.25-35.2 5.25-18.55 27.2-18.55 27.2-35.2ZM36.5-35.2L37.5-35.2 37.5-13.35Q37.5-6.65 40.42-3.6 43.35-0.55 48.35-0.55L48.35-0.55Q53.25-0.55 56.1-3.6 58.95-6.65 58.95-13.35L58.95-13.35 58.95-35.2 59.95-35.2 59.95-13.35Q59.95-6.35 56.87-3 53.8 0.35 48.35 0.35L48.35 0.35Q42.9 0.35 39.7-3.03 36.5-6.4 36.5-13.35L36.5-13.35 36.5-35.2ZM68.2-35.2L69.2-35.2 69.2 0 68.2 0 68.2-35.2ZM97.14-35.2L79.29-17.6 97.14 0 95.79 0 78.69-16.8 78.69 0 77.69 0 77.69-35.2 78.69-35.2 78.69-18.3 95.79-35.2 97.14-35.2ZM121.84-35.2L103.99-17.6 121.84 0 120.49 0 103.39-16.8 103.39 0 102.39 0 102.39-35.2 103.39-35.2 103.39-18.3 120.49-35.2 121.84-35.2ZM150.24 0L146.59-9.7 129.19-9.7 125.49 0 124.34 0 137.39-34.15 138.39-34.15 151.39 0 150.24 0ZM129.54-10.6L146.24-10.6 137.89-32.55 129.54-10.6Z" fill="#00ceff" data-fill-palette-color="primary"></path></g></svg></g></svg></g><g transform="matrix(1,0,0,1,163.31020799999996,118.1117112601835)"><svg viewBox="0 0 232.20979200000002 33.694393608688415" height="33.694393608688415" width="232.20979200000002"><g transform="matrix(1,0,0,1,0,0)"><svg width="232.20979200000002" viewBox="5.21999979019165 -41.9900016784668 369.45135498046875 53.61000061035156" height="33.694393608688415" data-palette-color="#0063db"><path d="M5.22-17.21L5.22-37.35 9.33-37.35 9.33-17.38Q9.33-11.47 9.84-9.33 10.35-7.18 11.02-6.09 11.69-5 12.77-4.35L12.77-4.35Q14.79-3.1 18.35-3.1 21.9-3.1 23.69-3.71 25.49-4.32 26.48-5.91 27.47-7.5 27.81-10.28 28.15-13.06 28.15-17.38L28.15-17.38 28.15-37.35 32.25-37.35 32.25-17.53Q32.25-11.25 31.79-8.87 31.32-6.49 30.51-4.83 29.69-3.17 28.2-2L28.2-2Q25.07 0.49 18.87 0.49L18.87 0.49Q9.64 0.49 6.96-4.79L6.96-4.79Q5.47-7.74 5.3-12.6L5.3-12.6Q5.22-14.82 5.22-17.21L5.22-17.21ZM56.64-25.73L56.64-25.73Q51.88-25.73 46.95-22.92L46.95-22.92 46.95 0 42.89 0 42.89-29.05 46.46-29.05 46.85-26.05Q49.51-28.22 53.46-29.15L53.46-29.15Q55.08-29.54 57.25-29.54 59.42-29.54 61.08-29.04 62.74-28.54 63.72-27.44L63.72-27.44Q65.5-25.46 65.5-20.24L65.5-20.24 65.5 0 61.4 0 61.4-19.48Q61.4-23 60.72-24.01 60.03-25.02 59.09-25.38 58.15-25.73 56.64-25.73ZM79.1-36.01L79.1-36.01Q77.46-36.01 77-36.47L77-36.47Q76.26-37.23 76.26-38.56 76.26-39.89 76.42-40.47 76.58-41.04 76.9-41.36L76.9-41.36Q77.49-41.94 78.69-41.94 79.9-41.94 80.43-41.82 80.95-41.7 81.29-41.36L81.29-41.36Q81.88-40.77 81.88-39.44 81.88-38.11 81.75-37.54 81.61-36.96 81.29-36.62L81.29-36.62Q80.68-36.01 79.1-36.01ZM77.17 0L77.12-29.05 81.12-29.05 81.12 0 77.17 0ZM101.68-38.48Q99.8-38.48 98.82-37.66 97.84-36.84 97.84-34.44 97.84-32.03 98.75-29.05L98.75-29.05 105.66-29.05 105.66-25.66 98.7-25.66 98.7 0 94.77 0 94.77-25.66 89.91-25.66 89.91-28.66 94.72-29.05Q94.4-29.71 94.11-31.91 93.82-34.11 93.82-35.06L93.82-35.06Q93.82-41.99 101.92-41.99L101.92-41.99Q104.85-41.99 107.46-41.36L107.46-41.36 106.73-37.72Q103.56-38.48 101.68-38.48ZM111.98 10.21L113.08 7.03Q114.86 7.67 115.99 7.67 117.13 7.67 117.48 7.6 117.84 7.54 118.2 7.35L118.2 7.35Q119.06 6.88 119.47 5.83L119.47 5.83Q120.5 3.34 121.25 0.37L121.25 0.37 110.05-29.05 114.57-29.05 122.13-7.64 123.28-3.88 124.33-7.67 131.02-29.05 135.27-29.05 123.01 6.88Q121.67 11.08 116.81 11.08L116.81 11.08Q113.74 11.08 111.98 10.21L111.98 10.21ZM145.72-36.01L145.72-36.01Q144.08-36.01 143.62-36.47L143.62-36.47Q142.88-37.23 142.88-38.56 142.88-39.89 143.04-40.47 143.2-41.04 143.52-41.36L143.52-41.36Q144.1-41.94 145.31-41.94 146.52-41.94 147.05-41.82 147.57-41.7 147.91-41.36L147.91-41.36Q148.5-40.77 148.5-39.44 148.5-38.11 148.36-37.54 148.23-36.96 147.91-36.62L147.91-36.62Q147.3-36.01 145.72-36.01ZM143.79 0L143.74-29.05 147.74-29.05 147.74 0 143.79 0ZM173.23-25.73L173.23-25.73Q168.47-25.73 163.53-22.92L163.53-22.92 163.53 0 159.48 0 159.48-29.05 163.05-29.05 163.44-26.05Q166.1-28.22 170.05-29.15L170.05-29.15Q171.66-29.54 173.84-29.54 176.01-29.54 177.67-29.04 179.33-28.54 180.31-27.44L180.31-27.44Q182.09-25.46 182.09-20.24L182.09-20.24 182.09 0 177.99 0 177.99-19.48Q177.99-23 177.3-24.01 176.62-25.02 175.68-25.38 174.74-25.73 173.23-25.73ZM211.48-27.05L211.48-27.05 211.87-29.05 215.39-29.05 215.41-0.54Q215.41 5.74 212.95 8.59L212.95 8.59Q210.31 11.62 204.04 11.62L204.04 11.62Q199.15 11.62 195.37 10.3L195.37 10.3Q194.42 9.99 193.9 9.72L193.9 9.72 195.17 6.27Q195.61 6.42 196.47 6.75 197.32 7.08 198.52 7.4L198.52 7.4Q201.55 8.2 204.07 8.2 206.6 8.2 207.97 7.69 209.33 7.18 210.09 6.1L210.09 6.1Q211.36 4.3 211.36-0.46L211.36-0.46 211.36-2.78Q206.7 0.49 201.5 0.49L201.5 0.49Q195.42 0.49 193.39-3.83L193.39-3.83Q192.22-6.27 192.02-10.01L192.02-10.01Q191.95-11.72 191.95-13.78 191.95-15.84 191.99-17.94 192.02-20.04 192.29-21.83 192.56-23.61 193.13-25.04 193.71-26.46 194.78-27.47L194.78-27.47Q197-29.54 201.63-29.54 206.26-29.54 211.48-27.05ZM211.36-6.08L211.36-23.68Q206.96-25.88 202.86-25.88L202.86-25.88Q199.88-25.88 198.93-25.39 197.98-24.9 197.48-24.12 196.98-23.34 196.66-21.97L196.66-21.97Q196.1-19.41 196.1-13.53L196.1-13.53 196.1-12.99Q196.1-7.57 197.44-5.4L197.44-5.4Q198.79-3.17 202.35-3.17L202.35-3.17 202.72-3.17Q206.09-3.17 209.6-5.03L209.6-5.03Q210.6-5.54 211.36-6.08L211.36-6.08ZM257.52-4.59L258.74-1.29Q255.35 0.49 249.44 0.49L249.44 0.49Q245.95 0.49 244.31-0.05L244.31-0.05Q240.14-1.46 238.84-4.86L238.84-4.86Q237.94-7.23 237.79-9.96 237.65-12.7 237.65-14.58 237.65-16.46 237.75-18.25 237.84-20.04 238.22-21.7 238.6-23.36 239.38-24.79 240.16-26.22 241.51-27.29L241.51-27.29Q244.41-29.54 249.86-29.54L249.86-29.54Q253.86-29.54 257.23-28.37L257.23-28.37Q258.13-28.08 258.6-27.81L258.6-27.81 257.37-24.19Q252.69-26 249.7-26 246.71-26 245.3-25.32 243.9-24.63 243.12-23.24L243.12-23.24Q241.8-20.85 241.8-14.45L241.8-14.45Q241.8-11.89 241.97-9.78 242.14-7.67 242.82-6.15L242.82-6.15Q244.26-3.03 248.77-3.03 253.27-3.03 257.52-4.59L257.52-4.59ZM281.47-25.76L281.47-25.76Q276.61-25.76 271.83-22.95L271.83-22.95 271.83 0 267.77 0 267.77-41.55 271.73-41.94 271.73-26.05Q274.24-28.2 278.27-29.15L278.27-29.15Q279.88-29.54 282.08-29.54 284.28-29.54 285.94-29.04 287.6-28.54 288.57-27.44L288.57-27.44Q290.33-25.46 290.33-20.24L290.33-20.24 290.33 0 286.23 0 286.23-19.51Q286.23-23.02 285.55-24.04 284.86-25.05 283.92-25.4 282.98-25.76 281.47-25.76ZM323.29-19.41L323.29-10.3Q323.29-5.44 323.75-0.2L323.75-0.2 320.14 0.1 319.53-3.3Q316.43-0.81 311.33 0.17L311.33 0.17Q309.66 0.49 308.37 0.49 307.08 0.49 306.09 0.37 305.1 0.24 304.18-0.11 303.27-0.46 302.49-1.1 301.71-1.73 301.12-2.78L301.12-2.78Q299.87-5 299.87-8.12 299.87-11.23 300.33-12.95 300.78-14.67 301.83-15.82L301.83-15.82Q303.9-18.09 308.81-18.09 313.72-18.09 319.28-16.24L319.28-16.24 319.28-19.41Q319.28-24.71 314.91-25.68L314.91-25.68Q313.5-26 311.67-26L311.67-26Q307.49-26 303-24.34L303-24.34 302.1-27.86Q303.34-28.69 308.44-29.35L308.44-29.35Q310.06-29.54 312.31-29.54 314.57-29.54 316.74-29 318.92-28.47 320.36-27.25L320.36-27.25Q323.29-24.83 323.29-19.41L323.29-19.41ZM319.19-13.18L319.19-13.18Q313.47-14.62 308.64-14.62L308.64-14.62Q305.66-14.62 304.68-12.92L304.68-12.92Q304.03-11.72 304.03-9.38 304.03-7.03 304.28-5.98 304.54-4.93 305.12-4.25L305.12-4.25Q306.27-2.95 308.91-2.95L308.91-2.95Q313.03-2.95 317.09-5.08L317.09-5.08Q318.33-5.71 319.33-6.49L319.33-6.49Q319.19-9.13 319.19-13.18ZM347.26-4.57L348.65-1.39Q344.67 0.49 341.3 0.49L341.3 0.49Q335.2 0.49 334.37-4.74L334.37-4.74Q334.17-5.98 334.17-8.35L334.17-8.35 334.17-25.66 330.66-25.66 330.66-28.66 334.17-29.05 334.81-35.69 338.2-35.69 338.2-29.05 346.67-29.05 346.67-25.66 338.2-25.66 338.2-8.42Q338.2-5.42 338.64-4.59L338.64-4.59Q339.45-3.08 341.86-3.08 344.28-3.08 347.26-4.57L347.26-4.57ZM353.48-2.39L355.24-5.76Q360.27-2.95 365.35-2.95L365.35-2.95Q369.57-2.95 370.3-5.96L370.3-5.96Q370.55-6.98 370.55-8.46 370.55-9.94 370.21-10.75 369.86-11.57 369.06-11.98 368.25-12.38 366.92-12.57 365.59-12.77 363.54-13.12 361.49-13.48 359.78-13.92 358.07-14.36 356.88-15.19L356.88-15.19Q354.34-16.97 354.44-21.19L354.44-21.19 354.44-21.8Q354.44-26.25 357.36-28.13L357.36-28.13Q360.2-29.98 366.72-29.39L366.72-29.39Q371.16-28.98 373.8-27.86L373.8-27.86 372.65-24.17Q369.72-25.42 365.62-25.98L365.62-25.98Q364.35-26.15 363.24-26.15 362.13-26.15 361.22-25.98 360.32-25.81 359.71-25.34L359.71-25.34Q358.54-24.39 358.49-21.8L358.49-21.8Q358.41-18.75 360.2-17.92L360.2-17.92Q361.91-17.11 364.25-16.81 366.59-16.5 368.08-16.27 369.57-16.04 370.79-15.65 372.01-15.26 372.89-14.4L372.89-14.4Q374.72-12.67 374.67-8.37L374.67-8.37Q374.55-0.88 368.42 0.17L368.42 0.17Q366.57 0.49 364.71 0.49 362.86 0.49 361.31 0.26 359.76 0.02 358.34-0.39L358.34-0.39Q355.66-1.15 353.48-2.39L353.48-2.39Z" opacity="1" transform="matrix(1,0,0,1,0,0)" fill="#0063db" class="undefined-text-1" data-fill-palette-color="secondary" id="text-1"></path></svg></g></svg></g></svg></g></svg></g></svg></g></svg></g></svg></g><defs><mask id="2e5811d4-3750-462b-be92-f4fe6b34362b"><rect width="640" height="400" fill="white"></rect><rect width="348.05760000000004" height="157.53760356276726" fill="black" x="145.97119999999998" y="121.23119821861637" id="transform-me" transform="matrix(1,0,0,1,-122.24000000000001,-76.4)"></rect></mask></defs></svg>
          <h2>Select your platforms</h2>
          <div>
            <Box
              sx={{
                display: "flex",
                alignItems: "center",
                flexDirection: "row",
                justifyContent: "center",
              }}
            >
              <Typography variant="h6">TikTok</Typography>
              <Checkbox
                sx={{ color: "white" }}
                checked={checkedSocials.tiktok}
                onChange={() =>
                  setCheckedSocials({
                    ...checkedSocials,
                    tiktok: !checkedSocials.tiktok,
                  })
                }
              />
              <Typography variant="h6">Twitch</Typography>
              <Checkbox
                sx={{ color: "white" }}
                checked={checkedSocials.twitch}
                onChange={() =>
                  setCheckedSocials({
                    ...checkedSocials,
                    twitch: !checkedSocials.twitch,
                  })
                }
              />
              <Typography variant="h6">Youtube</Typography>
              <Checkbox
                sx={{ color: "white" }}
                checked={checkedSocials.youtube}
                onChange={() =>
                  setCheckedSocials({
                    ...checkedSocials,
                    youtube: !checkedSocials.youtube,
                  })
                }
              />
            </Box>
          </div>
          <div>
            <TextField
              id="tiktok"
              label="TikTok"
              variant="filled"
              value={tiktokNickname}
              onChange={(e) => setTiktokName(e.target.value)}
              style={{
                backgroundColor: "white",
                borderRadius: 10,
                margin: 10,
                display: checkedSocials.tiktok ? "flex" : "none",
              }}
              InputProps={{
                style: {
                  color: "black",
                },
              }}
            />
            <TextField
              id="twitch"
              label="Twitch"
              variant="filled"
              value={twitchNickname}
              onChange={(e) => setTwitchName(e.target.value)}
              style={{
                backgroundColor: "white",
                borderRadius: 10,
                margin: 10,
                display: checkedSocials.twitch ? "flex" : "none",
              }}
              InputProps={{
                style: {
                  color: "black",
                },
              }}
            />
            <TextField
              id="Youtube"
              label="Youtube"
              variant="filled"
              value={youtubeClientId}
              onChange={(e) => setYoutubeClientId(e.target.value)}
              style={{
                backgroundColor: "white",
                borderRadius: 10,
                margin: 10,
                display: checkedSocials.youtube ? "flex" : "none",
              }}
              InputProps={{
                style: {
                  color: "black",
                },
              }}
            />
          </div>
          <Button onClick={connectBot}> Start the screen </Button>
        </div>
      ) : (
        <div>
          <svg viewBox="0 0 395.52 247.2" height="60.2" width="395.52"><g><svg viewBox="0 0 395.52 247.2" height="247.2" width="395.52"><g transform="matrix(1,0,0,1,0,47.696947565564045)"><svg viewBox="0 0 395.52 151.8061048688719" height="151.8061048688719" width="395.52"><g><svg viewBox="0 0 395.52 151.8061048688719" height="151.8061048688719" width="395.52"><g><svg viewBox="0 0 395.52 151.8061048688719" height="151.8061048688719" width="395.52"><g><svg viewBox="0 0 395.52 151.8061048688719" height="151.8061048688719" width="395.52"><g><svg viewBox="0 0 395.52 95.55376146788991" height="95.55376146788991" width="395.52"><g transform="matrix(1,0,0,1,0,0)"><svg width="395.52" viewBox="4.25 -35.20000076293945 147.13999938964844 35.54999923706055" height="95.55376146788991" data-palette-color="#00ceff"><g class="undefined-text-0" data-fill-palette-color="primary" id="text-0"><path d="M27.2-35.2L28.2-35.2 28.2 0 27.2 0 27.2-17.65 5.25-17.65 5.25 0 4.25 0 4.25-35.2 5.25-35.2 5.25-18.55 27.2-18.55 27.2-35.2ZM36.5-35.2L37.5-35.2 37.5-13.35Q37.5-6.65 40.42-3.6 43.35-0.55 48.35-0.55L48.35-0.55Q53.25-0.55 56.1-3.6 58.95-6.65 58.95-13.35L58.95-13.35 58.95-35.2 59.95-35.2 59.95-13.35Q59.95-6.35 56.87-3 53.8 0.35 48.35 0.35L48.35 0.35Q42.9 0.35 39.7-3.03 36.5-6.4 36.5-13.35L36.5-13.35 36.5-35.2ZM68.2-35.2L69.2-35.2 69.2 0 68.2 0 68.2-35.2ZM97.14-35.2L79.29-17.6 97.14 0 95.79 0 78.69-16.8 78.69 0 77.69 0 77.69-35.2 78.69-35.2 78.69-18.3 95.79-35.2 97.14-35.2ZM121.84-35.2L103.99-17.6 121.84 0 120.49 0 103.39-16.8 103.39 0 102.39 0 102.39-35.2 103.39-35.2 103.39-18.3 120.49-35.2 121.84-35.2ZM150.24 0L146.59-9.7 129.19-9.7 125.49 0 124.34 0 137.39-34.15 138.39-34.15 151.39 0 150.24 0ZM129.54-10.6L146.24-10.6 137.89-32.55 129.54-10.6Z" fill="#00ceff" data-fill-palette-color="primary"></path></g></svg></g></svg></g><g transform="matrix(1,0,0,1,163.31020799999996,118.1117112601835)"><svg viewBox="0 0 232.20979200000002 33.694393608688415" height="33.694393608688415" width="232.20979200000002"><g transform="matrix(1,0,0,1,0,0)"><svg width="232.20979200000002" viewBox="5.21999979019165 -41.9900016784668 369.45135498046875 53.61000061035156" height="33.694393608688415" data-palette-color="#0063db"><path d="M5.22-17.21L5.22-37.35 9.33-37.35 9.33-17.38Q9.33-11.47 9.84-9.33 10.35-7.18 11.02-6.09 11.69-5 12.77-4.35L12.77-4.35Q14.79-3.1 18.35-3.1 21.9-3.1 23.69-3.71 25.49-4.32 26.48-5.91 27.47-7.5 27.81-10.28 28.15-13.06 28.15-17.38L28.15-17.38 28.15-37.35 32.25-37.35 32.25-17.53Q32.25-11.25 31.79-8.87 31.32-6.49 30.51-4.83 29.69-3.17 28.2-2L28.2-2Q25.07 0.49 18.87 0.49L18.87 0.49Q9.64 0.49 6.96-4.79L6.96-4.79Q5.47-7.74 5.3-12.6L5.3-12.6Q5.22-14.82 5.22-17.21L5.22-17.21ZM56.64-25.73L56.64-25.73Q51.88-25.73 46.95-22.92L46.95-22.92 46.95 0 42.89 0 42.89-29.05 46.46-29.05 46.85-26.05Q49.51-28.22 53.46-29.15L53.46-29.15Q55.08-29.54 57.25-29.54 59.42-29.54 61.08-29.04 62.74-28.54 63.72-27.44L63.72-27.44Q65.5-25.46 65.5-20.24L65.5-20.24 65.5 0 61.4 0 61.4-19.48Q61.4-23 60.72-24.01 60.03-25.02 59.09-25.38 58.15-25.73 56.64-25.73ZM79.1-36.01L79.1-36.01Q77.46-36.01 77-36.47L77-36.47Q76.26-37.23 76.26-38.56 76.26-39.89 76.42-40.47 76.58-41.04 76.9-41.36L76.9-41.36Q77.49-41.94 78.69-41.94 79.9-41.94 80.43-41.82 80.95-41.7 81.29-41.36L81.29-41.36Q81.88-40.77 81.88-39.44 81.88-38.11 81.75-37.54 81.61-36.96 81.29-36.62L81.29-36.62Q80.68-36.01 79.1-36.01ZM77.17 0L77.12-29.05 81.12-29.05 81.12 0 77.17 0ZM101.68-38.48Q99.8-38.48 98.82-37.66 97.84-36.84 97.84-34.44 97.84-32.03 98.75-29.05L98.75-29.05 105.66-29.05 105.66-25.66 98.7-25.66 98.7 0 94.77 0 94.77-25.66 89.91-25.66 89.91-28.66 94.72-29.05Q94.4-29.71 94.11-31.91 93.82-34.11 93.82-35.06L93.82-35.06Q93.82-41.99 101.92-41.99L101.92-41.99Q104.85-41.99 107.46-41.36L107.46-41.36 106.73-37.72Q103.56-38.48 101.68-38.48ZM111.98 10.21L113.08 7.03Q114.86 7.67 115.99 7.67 117.13 7.67 117.48 7.6 117.84 7.54 118.2 7.35L118.2 7.35Q119.06 6.88 119.47 5.83L119.47 5.83Q120.5 3.34 121.25 0.37L121.25 0.37 110.05-29.05 114.57-29.05 122.13-7.64 123.28-3.88 124.33-7.67 131.02-29.05 135.27-29.05 123.01 6.88Q121.67 11.08 116.81 11.08L116.81 11.08Q113.74 11.08 111.98 10.21L111.98 10.21ZM145.72-36.01L145.72-36.01Q144.08-36.01 143.62-36.47L143.62-36.47Q142.88-37.23 142.88-38.56 142.88-39.89 143.04-40.47 143.2-41.04 143.52-41.36L143.52-41.36Q144.1-41.94 145.31-41.94 146.52-41.94 147.05-41.82 147.57-41.7 147.91-41.36L147.91-41.36Q148.5-40.77 148.5-39.44 148.5-38.11 148.36-37.54 148.23-36.96 147.91-36.62L147.91-36.62Q147.3-36.01 145.72-36.01ZM143.79 0L143.74-29.05 147.74-29.05 147.74 0 143.79 0ZM173.23-25.73L173.23-25.73Q168.47-25.73 163.53-22.92L163.53-22.92 163.53 0 159.48 0 159.48-29.05 163.05-29.05 163.44-26.05Q166.1-28.22 170.05-29.15L170.05-29.15Q171.66-29.54 173.84-29.54 176.01-29.54 177.67-29.04 179.33-28.54 180.31-27.44L180.31-27.44Q182.09-25.46 182.09-20.24L182.09-20.24 182.09 0 177.99 0 177.99-19.48Q177.99-23 177.3-24.01 176.62-25.02 175.68-25.38 174.74-25.73 173.23-25.73ZM211.48-27.05L211.48-27.05 211.87-29.05 215.39-29.05 215.41-0.54Q215.41 5.74 212.95 8.59L212.95 8.59Q210.31 11.62 204.04 11.62L204.04 11.62Q199.15 11.62 195.37 10.3L195.37 10.3Q194.42 9.99 193.9 9.72L193.9 9.72 195.17 6.27Q195.61 6.42 196.47 6.75 197.32 7.08 198.52 7.4L198.52 7.4Q201.55 8.2 204.07 8.2 206.6 8.2 207.97 7.69 209.33 7.18 210.09 6.1L210.09 6.1Q211.36 4.3 211.36-0.46L211.36-0.46 211.36-2.78Q206.7 0.49 201.5 0.49L201.5 0.49Q195.42 0.49 193.39-3.83L193.39-3.83Q192.22-6.27 192.02-10.01L192.02-10.01Q191.95-11.72 191.95-13.78 191.95-15.84 191.99-17.94 192.02-20.04 192.29-21.83 192.56-23.61 193.13-25.04 193.71-26.46 194.78-27.47L194.78-27.47Q197-29.54 201.63-29.54 206.26-29.54 211.48-27.05ZM211.36-6.08L211.36-23.68Q206.96-25.88 202.86-25.88L202.86-25.88Q199.88-25.88 198.93-25.39 197.98-24.9 197.48-24.12 196.98-23.34 196.66-21.97L196.66-21.97Q196.1-19.41 196.1-13.53L196.1-13.53 196.1-12.99Q196.1-7.57 197.44-5.4L197.44-5.4Q198.79-3.17 202.35-3.17L202.35-3.17 202.72-3.17Q206.09-3.17 209.6-5.03L209.6-5.03Q210.6-5.54 211.36-6.08L211.36-6.08ZM257.52-4.59L258.74-1.29Q255.35 0.49 249.44 0.49L249.44 0.49Q245.95 0.49 244.31-0.05L244.31-0.05Q240.14-1.46 238.84-4.86L238.84-4.86Q237.94-7.23 237.79-9.96 237.65-12.7 237.65-14.58 237.65-16.46 237.75-18.25 237.84-20.04 238.22-21.7 238.6-23.36 239.38-24.79 240.16-26.22 241.51-27.29L241.51-27.29Q244.41-29.54 249.86-29.54L249.86-29.54Q253.86-29.54 257.23-28.37L257.23-28.37Q258.13-28.08 258.6-27.81L258.6-27.81 257.37-24.19Q252.69-26 249.7-26 246.71-26 245.3-25.32 243.9-24.63 243.12-23.24L243.12-23.24Q241.8-20.85 241.8-14.45L241.8-14.45Q241.8-11.89 241.97-9.78 242.14-7.67 242.82-6.15L242.82-6.15Q244.26-3.03 248.77-3.03 253.27-3.03 257.52-4.59L257.52-4.59ZM281.47-25.76L281.47-25.76Q276.61-25.76 271.83-22.95L271.83-22.95 271.83 0 267.77 0 267.77-41.55 271.73-41.94 271.73-26.05Q274.24-28.2 278.27-29.15L278.27-29.15Q279.88-29.54 282.08-29.54 284.28-29.54 285.94-29.04 287.6-28.54 288.57-27.44L288.57-27.44Q290.33-25.46 290.33-20.24L290.33-20.24 290.33 0 286.23 0 286.23-19.51Q286.23-23.02 285.55-24.04 284.86-25.05 283.92-25.4 282.98-25.76 281.47-25.76ZM323.29-19.41L323.29-10.3Q323.29-5.44 323.75-0.2L323.75-0.2 320.14 0.1 319.53-3.3Q316.43-0.81 311.33 0.17L311.33 0.17Q309.66 0.49 308.37 0.49 307.08 0.49 306.09 0.37 305.1 0.24 304.18-0.11 303.27-0.46 302.49-1.1 301.71-1.73 301.12-2.78L301.12-2.78Q299.87-5 299.87-8.12 299.87-11.23 300.33-12.95 300.78-14.67 301.83-15.82L301.83-15.82Q303.9-18.09 308.81-18.09 313.72-18.09 319.28-16.24L319.28-16.24 319.28-19.41Q319.28-24.71 314.91-25.68L314.91-25.68Q313.5-26 311.67-26L311.67-26Q307.49-26 303-24.34L303-24.34 302.1-27.86Q303.34-28.69 308.44-29.35L308.44-29.35Q310.06-29.54 312.31-29.54 314.57-29.54 316.74-29 318.92-28.47 320.36-27.25L320.36-27.25Q323.29-24.83 323.29-19.41L323.29-19.41ZM319.19-13.18L319.19-13.18Q313.47-14.62 308.64-14.62L308.64-14.62Q305.66-14.62 304.68-12.92L304.68-12.92Q304.03-11.72 304.03-9.38 304.03-7.03 304.28-5.98 304.54-4.93 305.12-4.25L305.12-4.25Q306.27-2.95 308.91-2.95L308.91-2.95Q313.03-2.95 317.09-5.08L317.09-5.08Q318.33-5.71 319.33-6.49L319.33-6.49Q319.19-9.13 319.19-13.18ZM347.26-4.57L348.65-1.39Q344.67 0.49 341.3 0.49L341.3 0.49Q335.2 0.49 334.37-4.74L334.37-4.74Q334.17-5.98 334.17-8.35L334.17-8.35 334.17-25.66 330.66-25.66 330.66-28.66 334.17-29.05 334.81-35.69 338.2-35.69 338.2-29.05 346.67-29.05 346.67-25.66 338.2-25.66 338.2-8.42Q338.2-5.42 338.64-4.59L338.64-4.59Q339.45-3.08 341.86-3.08 344.28-3.08 347.26-4.57L347.26-4.57ZM353.48-2.39L355.24-5.76Q360.27-2.95 365.35-2.95L365.35-2.95Q369.57-2.95 370.3-5.96L370.3-5.96Q370.55-6.98 370.55-8.46 370.55-9.94 370.21-10.75 369.86-11.57 369.06-11.98 368.25-12.38 366.92-12.57 365.59-12.77 363.54-13.12 361.49-13.48 359.78-13.92 358.07-14.36 356.88-15.19L356.88-15.19Q354.34-16.97 354.44-21.19L354.44-21.19 354.44-21.8Q354.44-26.25 357.36-28.13L357.36-28.13Q360.2-29.98 366.72-29.39L366.72-29.39Q371.16-28.98 373.8-27.86L373.8-27.86 372.65-24.17Q369.72-25.42 365.62-25.98L365.62-25.98Q364.35-26.15 363.24-26.15 362.13-26.15 361.22-25.98 360.32-25.81 359.71-25.34L359.71-25.34Q358.54-24.39 358.49-21.8L358.49-21.8Q358.41-18.75 360.2-17.92L360.2-17.92Q361.91-17.11 364.25-16.81 366.59-16.5 368.08-16.27 369.57-16.04 370.79-15.65 372.01-15.26 372.89-14.4L372.89-14.4Q374.72-12.67 374.67-8.37L374.67-8.37Q374.55-0.88 368.42 0.17L368.42 0.17Q366.57 0.49 364.71 0.49 362.86 0.49 361.31 0.26 359.76 0.02 358.34-0.39L358.34-0.39Q355.66-1.15 353.48-2.39L353.48-2.39Z" opacity="1" transform="matrix(1,0,0,1,0,0)" fill="#0063db" class="undefined-text-1" data-fill-palette-color="secondary" id="text-1"></path></svg></g></svg></g></svg></g></svg></g></svg></g></svg></g></svg></g><defs><mask id="2e5811d4-3750-462b-be92-f4fe6b34362b"><rect width="640" height="400" fill="white"></rect><rect width="348.05760000000004" height="157.53760356276726" fill="black" x="145.97119999999998" y="121.23119821861637" id="transform-me" transform="matrix(1,0,0,1,-122.24000000000001,-76.4)"></rect></mask></defs></svg>
          {messages.map((message, index) => {
            return (
              <div key={index + message.sender + message.message}>
                <div
                  style={{
                    display: "flex",
                    alignItems: "flex-start",
                  }}
                >
                  <p>
                    {renderSwitch(message.source)}
                    <span
                      style={{
                        fontWeight: "bold",
                        color: message.source === "tiktok" ? "green" : "blue",
                      }}
                    >
                      {message.sender}
                    </span>
                    <span
                      style={{
                        marginLeft: 5,
                      }}
                    >
                      {message.message}
                    </span>
                  </p>
                </div>
              </div>
            );
          })}
        </div>
      )}
    </div>
  );
}

export default Chat;
